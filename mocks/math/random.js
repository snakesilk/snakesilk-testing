const sinon = require('sinon');

const RAND_FIXTURE = [
  0.0719895779620856,
  0.7392303524538875,
  0.2879227064549923,
  0.3665599748492241,
  0.9149779411964118,
  0.8795589522924274,
  0.486281214049086,
  0.6376124201342463,
  0.1295756008476019,
  0.1851014825515449,
  0.19232931034639478,
  0.6125704811420292,
  0.5833925851620734,
  0.6772856111638248,
  0.45780834183096886,
  0.2155718868598342,
  0.6892209900543094,
  0.49729568674229085,
  0.21896735532209277,
  0.05094897863455117,
  0.3973409754689783,
  0.03379066335037351,
  0.21606779238209128,
  0.6513921841979027,
  0.484941600356251,
  0.6397540390025824,
  0.6454381693620235,
  0.30627590836957097,
  0.30526204872876406,
  0.7791890855878592,
  0.605699761537835,
  0.9426631245296448,
  0.2808253753464669,
  0.4935979519505054,
  0.5285587189719081,
  0.8777700390201062,
  0.1914055438246578,
  0.021062945248559117,
  0.7126979732420295,
  0.847251309780404,
  0.010130182607099414,
  0.6349879605695605,
  0.6786225324030966,
  0.6821963405236602,
  0.07134857913479209,
  0.3548303556162864,
  0.5663200372364372,
  0.7516139957588166,
  0.5429800665006042,
  0.9333352521061897,
  0.16771884122863412,
  0.0563807082362473,
  0.32453790004365146,
  0.18189076660200953,
  0.47161386138759553,
  0.05922991083934903,
  0.8548143438529223,
  0.2878711794037372,
  0.29788308031857014,
  0.8931107341777533,
  0.6194878746755421,
  0.403719448717311,
  0.18868725281208754,
  0.9200082097668201,
  0.6188867473974824,
  0.6816042836289853,
  0.32538324710913,
  0.7603972163051367,
  0.9434941885992885,
  0.1796518131159246,
  0.19984855130314827,
  0.24324359302408993,
  0.6786154059227556,
  0.29930385760962963,
  0.5863886459264904,
  0.5138339863624424,
  0.4163938998244703,
  0.5058706977870315,
  0.7590835380833596,
  0.3331752782687545,
  0.09085536748170853,
  0.13213765202090144,
  0.25415382138453424,
  0.3678967538289726,
  0.11588403349742293,
  0.33186536747962236,
  0.5290388620924205,
  0.6369827431626618,
  0.8615842761937529,
  0.3231869568116963,
  0.19321458716876805,
  0.6072876201942563,
  0.393519492354244,
  0.13274079887196422,
  0.3420695592649281,
  0.311152825364843,
  0.9837839927058667,
  0.6373245578724891,
  0.039240984013304114,
  0.49849749892018735,
];

let randIndex;

function mock()
{
  randIndex = 0;
  sinon.stub(global.Math, 'random', function() {
    return RAND_FIXTURE[randIndex++ % RAND_FIXTURE.length];
  });
}

function restore()
{
  global.Math.random.restore();
}

module.exports = {
  mock,
  restore,
}
